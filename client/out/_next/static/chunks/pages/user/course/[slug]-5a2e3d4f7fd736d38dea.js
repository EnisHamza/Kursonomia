_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{Drea:function(e,t,n){"use strict";var c=n("VTBJ"),a=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},s=n("6VBw"),o=function(e,t){return a.createElement(s.a,Object(c.a)(Object(c.a)({},e),{},{ref:t,icon:r}))},i=a.forwardRef(o);t.a=i},NS6a:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/course/[slug]",function(){return n("p5Yx")}])},jO45:function(e,t,n){"use strict";var c=n("VTBJ"),a=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},s=n("6VBw"),o=function(e,t){return a.createElement(s.a,Object(c.a)(Object(c.a)({},e),{},{ref:t,icon:r}))},i=a.forwardRef(o);t.a=i},p5Yx:function(e,t,n){"use strict";n.r(t);var c=n("nKUr"),a=n("z7pX"),r=n("vJKn"),s=n.n(r),o=n("rg98"),i=n("q1tI"),l=n("20a2"),u=n("zuR4"),d=n("zsHu"),f=function(e){var t=e.children,n=Object(i.useState)(!1),a=n[0],r=n[1],f=Object(l.useRouter)();Object(i.useEffect)((function(){p()}),[]);var p=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("https://kursonomia-server.onrender.com/api/current-user");case 3:t=e.sent,t.data.ok&&r(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),r(!1),f.push("/login");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:a?Object(c.jsx)("div",{className:"container-fluid",children:t}):Object(c.jsx)(d.a,{spin:!0,className:"d-flex justify-content-center display-1 text-primary p-5"})})},p=n("2/Rp"),m=n("BvKs"),j=n("Tckk"),b=n("7l9Y"),v=n.n(b),h=n("IujW"),O=n.n(h),x=n("VTBJ"),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},w=n("6VBw"),y=function(e,t){return i.createElement(w.a,Object(x.a)(Object(x.a)({},e),{},{ref:t,icon:g}))};var k=i.forwardRef(y),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},N=function(e,t){return i.createElement(w.a,Object(x.a)(Object(x.a)({},e),{},{ref:t,icon:z}))};var _=i.forwardRef(N),S=n("jO45"),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},L=function(e,t){return i.createElement(w.a,Object(x.a)(Object(x.a)({},e),{},{ref:t,icon:E}))};var B=i.forwardRef(L),C=n("Drea");t.default=function(){var e=Object(i.useState)(-1),t=e[0],n=e[1],r=Object(i.useState)(!1),d=r[0],b=r[1],h=Object(i.useState)(!1),x=(h[0],h[1],Object(i.useState)({lessons:[]})),g=x[0],w=x[1],y=Object(i.useState)([]),z=y[0],N=y[1],E=Object(i.useState)(!1),L=E[0],A=E[1],I=Object(l.useRouter)().query.slug;Object(i.useEffect)((function(){I&&H()}),[I]),Object(i.useEffect)((function(){g&&M()}),[g]);var H=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/user/course/".concat(I));case 2:t=e.sent,n=t.data,w(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/api/list-completed",{courseId:g._id});case 2:t=e.sent,n=t.data,console.log("Completed Lessons",n),N(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(s.a.mark((function e(){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/api/mark-completed",{courseId:g._id,lessonId:g.lessons[t]._id});case 2:n=e.sent,c=n.data,console.log(c),N([].concat(Object(a.a)(z),[g.lessons[t]._id]));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(s.a.mark((function e(){var n,c,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/api/mark-incomplete",{courseId:g._id,lessonId:g.lessons[t]._id});case 3:n=e.sent,c=n.data,console.log(c),a=z,console.log("ALL",a),(r=a.indexOf(g.lessons[t]._id))>-1&&(a.splice(r,1),console.log("ALL Without Remove",a),N(a),A(!L)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(f,{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{style:{maxWidth:420},children:[Object(c.jsxs)(p.a,{onClick:function(){return b(!d)},className:"text-primary mt-1 mb-2",block:!0,children:[Object(i.createElement)(d?k:_)," ",!d&&"Lessons"]}),Object(c.jsx)(m.a,{defaultSelectedKeys:[t],inlineCollapsed:d,style:{height:"83vh",overflow:"scroll"},children:g.lessons.map((function(e,t){return Object(c.jsxs)(m.a.Item,{onClick:function(){return n(t)},icon:Object(c.jsx)(j.a,{children:t+1}),children:[e.title.substring(0,30)," ",z.includes(e._id)?Object(c.jsx)(S.a,{className:"float-end text-primary ",block:!0,style:{marginTop:"13px"}}):Object(c.jsx)(B,{className:"float-end text-danger",style:{marginTop:"13px"}})]},t)}))})]}),Object(c.jsx)("div",{className:"col mt-1 mx-4",children:-1!==t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"col alert alert-warning d-flex justify-content-between align-items-center p-2",style:{marginRight:"102px"},children:[Object(c.jsx)("b",{children:g.lessons[t].title.substring(0,30)}),z.includes(g.lessons[t]._id)?Object(c.jsx)("span",{className:"btn p-1 btn-success m-1",onClick:T,children:"Mark As Not Completed"}):Object(c.jsx)("span",{className:"btn p-1 btn-success m-1",onClick:R,children:"Mark As Completed"})]}),g.lessons[t].video&&g.lessons[t].video.Location&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsx)(v.a,{className:"player",url:g.lessons[t].video.Location,width:"90%",height:"30%",controls:!0,onEnded:function(){return R()}})}),Object(c.jsx)("br",{})]}),Object(c.jsx)(O.a,{source:g.lessons[t].content,className:"single-post"})]}):Object(c.jsx)("div",{className:"d-flex justify-content-center p-5",children:Object(c.jsxs)("div",{className:"text-center p-5",children:[Object(c.jsx)(C.a,{className:"text-danger display-1 p-5"}),Object(c.jsx)("p",{className:"lead",children:"Click on Lessons to Start Learning"})]})})})]})})}},z7pX:function(e,t,n){"use strict";function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},zsHu:function(e,t,n){"use strict";var c=n("VTBJ"),a=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},s=n("6VBw"),o=function(e,t){return a.createElement(s.a,Object(c.a)(Object(c.a)({},e),{},{ref:t,icon:r}))},i=a.forwardRef(o);t.a=i}},[["NS6a",1,2,0,3,4,5,6,8,9,10,12,14,15,17]]]);
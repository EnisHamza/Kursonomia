_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{AmVM:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return w}));var r=n("nKUr"),c=n("vJKn"),o=n.n(c),a=n("rg98"),u=n("cpVT"),s=n("q1tI"),i=n("zuR4"),f=n("20a2");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={user:null},d=Object(s.createContext)(),b=function(e,t){switch(t.type){case"LOGIN":return p(p({},e),{},{user:t.payload});case"LOGOUT":return p(p({},e),{},{user:null});default:return e}},w=function(e){var t=e.children,n=Object(s.useReducer)(b,O),c=n[0],u=n[1],l=Object(f.useRouter)();return Object(s.useEffect)((function(){u({type:"LOGIN",payload:JSON.parse(window.localStorage.getItem("user"))})}),[]),i.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.response;return 401===t.status&&t.config&&!t.config__isRetryRequest?new Promise((function(t,n){i.a.get("/api/logout").then((function(e){console.log("/401 error > logout"),u({type:"LOGOUT"}),window.localStorage.removeItem("user"),l.push("login")})).catch((function(t){console.log("AXIOS INTERCEPTORS ERR",t),n(e)}))})):Promise.reject(e)})),Object(s.useEffect)((function(){(function(){var e=Object(a.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/csrf-token");case 2:t=e.sent,n=t.data,i.a.defaults.headers["X-CSRF-Token"]=n.csrfToken;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.jsx)(d.Provider,{value:{state:c,dispatch:u},children:t})}},KDr6:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stripe/callback",function(){return n("Zr1w")}])},Zr1w:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),c=n("q1tI"),o=n("AmVM"),a=n("zsHu"),u=n("zuR4");t.default=function(){var e=Object(c.useContext)(o.a),t=e.state.user,n=e.dispatch;return Object(c.useEffect)((function(){t&&u.a.post("/api/get-account-status").then((function(e){n({type:"LOGIN",payload:e.data}),window.localStorage.setItem("user",JSON.stringify(e.data)),window.location.href="/instructor"}))}),[t]),Object(r.jsx)(a.a,{spin:!0,className:"d-flex justify-content-center display-1 text-danger p-5"})}},cpVT:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},zsHu:function(e,t,n){"use strict";var r=n("VTBJ"),c=n("q1tI"),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},a=n("6VBw"),u=function(e,t){return c.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:o}))},s=c.forwardRef(u);t.a=s}},[["KDr6",1,2,0,3,4]]]);